@use "@styles/partials/variables" as v;

.projectsOverFlow {
  padding-top: 5.3rem;
  flex-grow: 1;
  height: 100%;
  overflow-y: inherit;
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch; // Fix for Safari smooth scrolling
}

.projectsGridContainer {
  display: grid;
  gap: 0.09em !important;
  flex-grow: 1;
  height: auto;
  max-height: none;
  overflow: visible; // ✅ Prevent hidden images at the top
  -webkit-overflow-scrolling: touch;

  &::-webkit-scrollbar {
    width: 8px;
  }

  &::-webkit-scrollbar-track {
    background: v.$black;
  }

  &::-webkit-scrollbar-thumb {
    background-color: v.$gray;
    border-radius: 4px;
  }
}

.gridItem {
  position: relative;
  overflow: hidden;
  background-color: black;
  display: flex;
  align-items: center;
  justify-content: center;
  aspect-ratio: 1 / 1;
  will-change: transform;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;

  img {
    width: 100%;
    height: 100%;
    transition:
      opacity 0.6s ease,
      transform 0.3s ease;
    opacity: 1;

    &.loaded {
      opacity: 1;
      animation: fadeIn 0.6s ease-out;
    }

    &:hover {
      transform: scale(1.05);
      opacity: 0.9;
    }
  }
  &:nth-child(1) {
    grid-column: span 2;
    aspect-ratio: 2 / 1;
  }

  &:nth-child(7n) {
    grid-row: span 2;
    aspect-ratio: 1 / 2;
  }

  .imagePlaceholder {
    width: 100%; // ✅ Matches grid column width
    height: 100%; // ✅ Keeps aspect ratio intact
    aspect-ratio: 16 / 9; // ✅ Ensures placeholders are consistent
    background-color: #58565e;
    animation: pulse 1.5s infinite ease-in-out;
  }
  @keyframes pulse {
    0% {
      opacity: 0.7;
    }
    50% {
      opacity: 1;
    }
    100% {
      opacity: 0.7;
    }
  }
}
