// components/common/SendButton/SendButton.module.scss
@use "@styles/partials/variables" as v;
@use "@styles/partials/mixins" as m;

/* ---- Button shell (matches your IconButton glass look) ---- */
.sendButton {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;

  /* width is animated by Motion; height set inline for responsiveness */
  border: m.rem(0.3) solid rgba(255, 255, 255, 0.3);
  border-radius: 9999px;
  background-color: rgba(255, 255, 255, 0.135);
  backdrop-filter: blur(2px);
  cursor: pointer;
  padding: 0;
  z-index: 10;

  transition:
    background-color 0.3s ease,
    border-color 0.2s ease;

  &:hover {
    background-color: rgba(0, 0, 0, 0.3);
  }

  &:disabled {
    opacity: 0.6;
    cursor: not-allowed;
  }
}

/* Inner content layout when expanded */
.content {
  display: inline-flex;
  align-items: center;
  gap: m.rem(9);
  padding-inline: m.rem(14);
}

/* Pure CSS arrow (two lines), same as your IconButton */
.arrowIcon {
  width: m.rem(12);
  height: m.rem(12);
  border-bottom: m.rem(1.9) solid v.$white;
  border-right: m.rem(1.9) solid v.$white;
  display: block;
  pointer-events: none;
  transform-origin: center;
  position: relative;

  @media (max-width: 768px) {
    width: m.rem(8);
    height: m.rem(8);
  }
}

/* Directional rotation classes */
.dir_up {
  transform: rotate(-135deg);
  margin-top: 0.35rem;
}
.dir_down {
  transform: rotate(45deg);
  margin-bottom: 0.27rem;
}
.dir_left {
  transform: rotate(135deg);
  margin-left: 0.3rem;
}
.dir_right {
  transform: rotate(-45deg);
  margin-right: 0.3rem;
}

.iconWrap {
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* The “Send” label is hidden until hover/focus expands */
.label {
  color: v.$white;
  font-size: m.rem(15);
  font-weight: 400;
  line-height: 1;
  white-space: nowrap;
  pointer-events: none;

  /* SSR-safe initial state (matches Motion `rest`) */
  opacity: 0;
  transform: translateX(m.rem(6));
  clip-path: inset(0 100% 0 0);
}

/* Focus ring per WCAG — tweak color to your taste */
.focusRing {
  pointer-events: none;
  position: absolute;
  inset: 0;
  border-radius: inherit;
  box-shadow: 0 0 0 0 rgba(10, 132, 255, 0);
}

/* Strong, visible focus */
.sendButton:focus-visible .focusRing {
  box-shadow: 0 0 0 m.rem(2) rgba(10, 132, 255, 0.7);
  transition: box-shadow 0.15s ease;
}

/* Reduced motion: keep label visible to avoid sudden pop */
@media (prefers-reduced-motion: reduce) {
  .label {
    opacity: 1;
    clip-path: none;
    transform: none;
    transition: none;
  }
}
